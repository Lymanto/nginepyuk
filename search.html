<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NginepYuk</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./assets/css/bootstrap.min.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./assets/css/rSlider.min.css" />
    <link rel="stylesheet" href="./assets/css/navbar.css" />
    <link rel="stylesheet" href="./assets/css/footer.css" />
    <link rel="stylesheet" href="./assets/css/datepicker.css" />
    <link rel="stylesheet" href="./assets/css/search.css" />
    <link rel="stylesheet" href="./assets/css/utilities.css" />
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="preconnect"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css"
      rel="stylesheet"
    />
    <script>
      if (
        !localStorage.getItem('search') ||
        localStorage.getItem('search') === ''
      ) {
        window.location = '/';
      }
    </script>
  </head>
  <body>
    <section>
      <nav
        class="navbar navbar-expand-lg navbar-light bg-light pt-lg-40 pb-lg-40 pt-30 pb-50"
      >
        <div class="container-fluid">
          <a class="navbar-brand" href="../index.html">
            <img src="../assets/images/logo.svg" alt="" />
          </a>
          <div class="d-flex flex-row" id="nav-right">
            <a
              class="btn btn-sign-in pb-10 pt-10 pl-32 pr-32 color-palette-1 fw-medium text-lg"
              href="./auth/sign-in.html"
              >Sign In</a
            >
            <a
              class="btn btn-sign-up pb-10 pt-10 pl-32 pr-32 color-palette-1 fw-semibold text-lg text-white"
              href="./auth/sign-up.html"
              >Sign Up</a
            >
          </div>
        </div>
      </nav>
    </section>
    <section>
      <div class="container-fluid">
        <div class="search-box">
          <form action="#">
            <div class="d-flex flex-row flex-xs-column mb-36 mb-xs-18">
              <div class="kotaTujuan mr-40 mr-md-20 mr-xs-0 mb-xs-18">
                <label
                  for="kotaTujuan"
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                  >Kota Tujuan</label
                >
                <div class="position-relative">
                  <img
                    src="./assets/images/icon-location.svg"
                    alt="icon tujuan"
                    class="position-absolute top-50 translate-middle input-icon"
                  />
                  <input
                    type="text"
                    class="form-control"
                    id="kotaTujuan"
                    name="kotaTujuan"
                    aria-describedby="kotaTujuan"
                    placeholder="Kota Tujuan"
                  />
                </div>
              </div>
              <div class="vr vr-sm"></div>

              <div
                class="tamuDanKamar mb-xs-18 ml-40 mr-40 mr-md-0 ml-md-20 mr-xs-0 ml-xs-0"
              >
                <label
                  for="tamuDanKamar"
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                  >Tamu dan Kamar</label
                >
                <div>
                  <div class="position-relative">
                    <img
                      src="./assets/images/icon-visitor.svg"
                      alt="icon tujuan"
                      class="position-absolute top-50 translate-middle input-icon"
                    />
                    <div
                      type="text"
                      class="form-control"
                      id="tamuDanKamar"
                      name="tamuDanKamar"
                      aria-describedby="tamuDanKamar"
                    >
                      <span class="dewasa">2</span> Dewasa,
                      <span class="anak">0</span> Anak,
                      <span class="kamar">1</span> Kamar
                    </div>
                  </div>
                  <div class="select-box" data-selected="false">
                    <div class="d-flex flex-row justify-content-between mb-16">
                      <div class="d-flex flex-row align-items-center">
                        <img
                          src="./assets/images/icon-adult.svg"
                          alt="icon adult"
                          width="30"
                          height="30"
                        />
                        <div class="ml-10">Adult</div>
                      </div>
                      <div class="d-flex flex-row">
                        <div class="btn btn-counter minus" aria-type="dewasa">
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            data-id="IcSymbolAddMinus"
                          >
                            <path
                              d="M5 12H19"
                              stroke="#0194f3"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                            ></path>
                          </svg>
                        </div>
                        <input
                          type="text"
                          name="adult"
                          id="adult"
                          class="form-control input-counter mx-1"
                          value="2"
                          readonly
                        />
                        <div class="btn btn-counter plus" aria-type="dewasa">
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            data-id="IcSymbolAddPlus"
                          >
                            <path
                              d="M12 5V19M5 12H19"
                              stroke="#0194f3"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                            ></path>
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex flex-row justify-content-between mb-16">
                      <div class="d-flex flex-row align-items-center">
                        <img
                          src="./assets/images/icon-children.svg"
                          alt="icon adult"
                          width="30"
                          height="30"
                        />
                        <div class="ml-10">Children</div>
                      </div>
                      <div class="d-flex flex-row">
                        <div class="btn btn-counter minus" aria-type="anak">
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            data-id="IcSymbolAddMinus"
                          >
                            <path
                              d="M5 12H19"
                              stroke="#CDD0D1"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                            ></path>
                          </svg>
                        </div>
                        <input
                          type="text"
                          name="children"
                          id="children"
                          class="form-control input-counter mx-1"
                          value="0"
                          readonly
                        />
                        <div class="btn btn-counter plus" aria-type="anak">
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            data-id="IcSymbolAddPlus"
                          >
                            <path
                              d="M12 5V19M5 12H19"
                              stroke="#0194f3"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                            ></path>
                          </svg>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex flex-row justify-content-between">
                      <div class="d-flex flex-row align-items-center">
                        <img
                          src="./assets/images/icon-room.svg"
                          alt="icon adult"
                          width="30"
                          height="30"
                        />
                        <div class="ml-10">Room</div>
                      </div>
                      <div class="d-flex flex-row">
                        <div class="btn btn-counter minus" aria-type="kamar">
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            data-id="IcSymbolAddMinus"
                          >
                            <path
                              d="M5 12H19"
                              stroke="#CDD0D1"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                            ></path>
                          </svg>
                        </div>
                        <input
                          type="text"
                          name="room"
                          id="room"
                          class="form-control input-counter mx-1"
                          value="1"
                          readonly
                        />
                        <div class="btn btn-counter plus" aria-type="kamar">
                          <svg
                            width="16"
                            height="16"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            data-id="IcSymbolAddPlus"
                          >
                            <path
                              d="M12 5V19M5 12H19"
                              stroke="#0194f3"
                              stroke-width="2"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                            ></path>
                          </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div
              class="inner-box d-flex flex-row flex-xs-column align-items-center"
            >
              <div class="checkIn mr-40 mr-md-20 mr-xs-0 mb-xs-18">
                <label
                  for="datepicker"
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                  >Check-in</label
                >
                <div class="position-relative">
                  <label for="datepicker">
                    <img
                      src="./assets/images/icon-calendar.svg"
                      alt="icon tujuan"
                      class="position-absolute top-50 translate-middle input-icon"
                    />
                    <input
                      type="text"
                      id="datepicker"
                      class="form-control"
                      autocomplete="off"
                    />
                  </label>
                </div>
              </div>
              <div class="vr vr-sm"></div>
              <div
                class="durasi ml-40 mr-40 mr-md-0 ml-md-20 mb-xs-18 mr-xs-0 ml-xs-0"
              >
                <label
                  for="durasi"
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                  >Durasi</label
                >
                <div class="position-relative">
                  <img
                    src="./assets/images/icon-duration.svg"
                    alt="icon tujuan"
                    class="position-absolute top-50 translate-middle input-icon"
                  />
                  <select
                    class="form-select"
                    id="durasi"
                    name="durasi"
                    aria-describedby="durasi"
                  >
                    <option value="1" selected>1 night</option>
                    <option value="2">2 night</option>
                    <option value="3">3 night</option>
                    <option value="4">4 night</option>
                    <option value="5">5 night</option>
                    <option value="6">6 night</option>
                    <option value="7">7 night</option>
                    <option value="8">8 night</option>
                    <option value="9">9 night</option>
                    <option value="10">10 night</option>
                    <option value="11">11 night</option>
                    <option value="12">12 night</option>
                    <option value="13">13 night</option>
                    <option value="13">13 night</option>
                    <option value="14">14 night</option>
                    <option value="15">15 night</option>
                    <option value="16">16 night</option>
                    <option value="17">17 night</option>
                    <option value="18">18 night</option>
                    <option value="19">19 night</option>
                    <option value="20">20 night</option>
                    <option value="21">21 night</option>
                    <option value="22">22 night</option>
                    <option value="23">23 night</option>
                    <option value="24">24 night</option>
                    <option value="25">25 night</option>
                    <option value="26">26 night</option>
                    <option value="27">27 night</option>
                    <option value="28">28 night</option>
                    <option value="29">29 night</option>
                    <option value="30">30 night</option>
                  </select>
                </div>
              </div>
              <div class="vr vr-md vr-sm"></div>
              <div class="checkOut ml-40">
                <label
                  for="checkOut"
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                  >Check-out</label
                >
                <div class="position-relative">
                  <div id="checkOutValue"></div>
                </div>
              </div>
              <button class="btn btn-search ml-40 ml-xs-0">
                <img
                  src="./assets/images/icon-search.svg"
                  width="25"
                  height="25"
                  alt=""
                />
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>
    <section class="mt-30">
      <div class="container-fluid">
        <div class="row gap-lg-0 gap-4">
          <div class="col-lg-4">
            <div class="box-1">
              <div class="mb-30">
                <div
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                >
                  Urutkan berdasar
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="radio"
                    name="sort"
                    id="hargaTertinggi"
                  />
                  <label class="form-check-label ml-10" for="hargaTertinggi">
                    Harga Tertinggi
                  </label>
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="radio"
                    name="sort"
                    id="hargaTerendah"
                  />
                  <label class="form-check-label ml-10" for="hargaTerendah">
                    Harga Terendah
                  </label>
                </div>
                <div class="form-check d-flex flex-row align-items-center">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="sort"
                    id="nilaiUlasan"
                  />
                  <label class="form-check-label ml-10" for="nilaiUlasan">
                    Nilai Ulasan
                  </label>
                </div>
              </div>
              <div class="mb-30">
                <div
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                >
                  Harga
                </div>
                <div class="d-flex flex-row align-items-center">
                  <div class="form-control-custom-wrapper position-relative">
                    <span
                      class="position-absolute top-50 translate-middle-y text-sm left-20"
                      >Rp</span
                    >
                    <input
                      type="text"
                      class="form-control-custom text-sm color-palette-1"
                      id="rangeTerendah"
                    />
                  </div>
                  <hr class="line" />
                  <div class="form-control-custom-wrapper position-relative">
                    <span
                      class="position-absolute top-50 translate-middle-y text-sm left-20"
                      >Rp</span
                    >
                    <input
                      type="text"
                      class="form-control-custom text-sm color-palette-1"
                      id="rangeTertinggi"
                    />
                  </div>
                </div>
                <div class="slider-container mt-15">
                  <input type="text" id="slider3" class="slider" />
                </div>
              </div>
              <div>
                <div
                  class="form-label text-lg fw-semibold color-palette-1 mb-10"
                >
                  Bintang Hotel
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="bintang[]"
                    value="5"
                    id="star5"
                  />
                  <label class="form-check-label ml-6" for="star5">
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                  </label>
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="bintang[]"
                    value="4"
                    id="star4"
                  />
                  <label class="form-check-label ml-6" for="star4">
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                  </label>
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="bintang[]"
                    value="3"
                    id="star3"
                  />
                  <label class="form-check-label ml-6" for="star3">
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                  </label>
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="bintang[]"
                    value="2"
                    id="star2"
                  />
                  <label class="form-check-label ml-6" for="star2">
                    <img src="./assets/images/icon-star.svg" alt="star" />
                    <img src="./assets/images/icon-star.svg" alt="star" />
                  </label>
                </div>
                <div
                  class="form-check mb-10 d-flex flex-row align-items-center"
                >
                  <input
                    class="form-check-input"
                    type="checkbox"
                    name="bintang[]"
                    value="1"
                    id="star1"
                  />
                  <label class="form-check-label ml-6" for="star1">
                    <img src="./assets/images/icon-star.svg" alt="star" />
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-8">
            <div id="hotelList">Hotel tidak ditemukan</div>
            <div id="pagination"></div>
          </div>
        </div>
      </div>
    </section>
    <section class="footer mt-50">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-4">
            <div class="d-flex flex-column">
              <a class="navbar-brand" href="../index.html">
                <img src="../assets/images/logo.svg" alt="" />
              </a>
              <p class="footer-definition mt-20">
                NginepYuk hadir membantu Anda dalam mencari penginapan
              </p>
            </div>
          </div>
          <div class="col-lg-8 gap-sm-0">
            <div class="row">
              <div class="col-md-4 col-6 mb-lg-0 mb-25">
                <p class="text-lg fw-semibold color-palette-1 mb-12">
                  Perusahaan
                </p>
                <ul class="list-unstyled">
                  <li class="mb-6">
                    <a
                      href="#"
                      class="text-lg color-palette-1 text-decoration-none"
                      >Tentang Kami</a
                    >
                  </li>
                  <li class="mb-6">
                    <a
                      href="#"
                      class="text-lg color-palette-1 text-decoration-none"
                      >Ketentuan Pengguna</a
                    >
                  </li>
                  <li class="mb-6">
                    <a
                      href="#"
                      class="text-lg color-palette-1 text-decoration-none"
                      >Kebijakan & Privasi</a
                    >
                  </li>
                </ul>
              </div>
              <div class="col-md-4 col-6 mb-lg-0 mb-25">
                <p class="text-lg fw-semibold color-palette-1 mb-12">
                  Dukungan
                </p>
                <ul class="list-unstyled">
                  <li class="mb-6">
                    <a
                      href="#"
                      class="text-lg color-palette-1 text-decoration-none"
                      >Pengembalian Dana</a
                    >
                  </li>
                  <li class="mb-6">
                    <a
                      href="#"
                      class="text-lg color-palette-1 text-decoration-none"
                      >Live Chatting</a
                    >
                  </li>
                </ul>
              </div>

              <div class="col-md-4 col-12 mt-lg-0 mt-md-0 mt-25">
                <div class="d-flex flex-column text-lg">
                  <div class="fw-semibold">Kontak</div>
                  <div class="mt-12">hi@nginepyuk.com</div>
                  <div class="mt-6">team@nginepyuk.com</div>
                  <div class="mt-6">Pasific 12, Jakarta Selatan</div>
                  <div class="mt-6">021 - 1122 - 9090</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row text-center mt-50">
          <p class="m-0 p-0 color-palette-2 text-lg fw-light">
            Copyright © 2022 NginepYuk
          </p>
        </div>
      </div>
    </section>
    <script src="./assets/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="./assets/js/rSlider.min.js"></script>
    <script>
      $(function () {
        localStorage.removeItem('step');

        const searchData = JSON.parse(localStorage.getItem('search'));
        const checkIn = new Date(searchData.checkIn);

        const yearCheckIn = new Intl.DateTimeFormat('en', {
          year: 'numeric',
        }).format(checkIn);
        const monthCheckIn = new Intl.DateTimeFormat('en', {
          month: 'short',
        }).format(checkIn);
        const dayCheckIn = new Intl.DateTimeFormat('en', {
          day: '2-digit',
        }).format(checkIn);
        const shortDayCheckIn = new Intl.DateTimeFormat('en', {
          weekday: 'short',
        }).format(checkIn);

        const checkOut = new Date(searchData.checkOut);
        const yearCheckOut = new Intl.DateTimeFormat('en', {
          year: 'numeric',
        }).format(checkOut);
        const monthCheckOut = new Intl.DateTimeFormat('en', {
          month: 'short',
        }).format(checkOut);
        const dayCheckOut = new Intl.DateTimeFormat('en', {
          day: '2-digit',
        }).format(checkOut);
        const shortDayCheckOut = new Intl.DateTimeFormat('en', {
          weekday: 'short',
        }).format(checkOut);
        $('#checkOutValue').html(
          `${shortDayCheckOut}, ${dayCheckOut} ${monthCheckOut} ${yearCheckIn}`
        );
        $('#datepicker').val(
          `${shortDayCheckIn}, ${dayCheckIn} ${monthCheckIn} ${yearCheckIn}`
        );
        $('#kotaTujuan').val(searchData.kotaTujuan);
        $('#durasi').val(searchData.duration).change();

        $('#adult').val(searchData.adult);
        $('#children').val(searchData.children);
        $('#room').val(searchData.room);
        $('.dewasa').html(searchData.adult);
        $('.anak').html(searchData.children);
        $('.kamar').html(searchData.room);
        $('#hotelList').html('');

        function setStar(star) {
          let starImg = '';
          for (let index = 0; index < star; index++) {
            starImg += '<img src="/assets/images/icon-star.svg" alt="star">';
          }
          return starImg;
        }

        async function getHotel() {
          try {
            let message = JSON.parse(localStorage.getItem('search'));
            const response = await fetch(
              `http://nginepyuk-api.com/hotel/search?kotaTujuan=${message.kotaTujuan}&guest=${message.adult}`,
              {
                method: 'GET',
                headers: {
                  Accept: 'application/json',
                },
              }
            );
            if (response.status == 404) {
              response.text().then((text) => {
                text = JSON.parse(text);
                $('#hotelList').html('Hotel tidak ditemukan');
              });
            } else if (response.status == 200) {
              response.text().then((text) => {
                text = JSON.parse(text);
                text.room.map((element) => {
                  $(
                    `
                  <div class="box-2 d-flex flex-xs-column flex-row mb-30 position-relative">
                    <div class="img-wrapper position-relative">
                      <img
                        src="${'http://' + element.imageUrl}"
                        alt="hotel${element.id}"
                        class="img-fluid"
                      />
                    </div>
                    <a
                      href="detail/${element.id}"
                      class="d-flex hotel-link flex-column ml-24 justify-content-between flex-grow-1 ml-xs-0"
                    >
                      <div>
                        <h2 class="fw-medium text-xl mt-xs-10 color-palette-1">${
                          element.title
                        }</h2>
                        <div class="d-flex flex-row">
                          <img
                            src="./assets/images/icon-location-grey.svg"
                            alt=""
                          />
                          <span class="text-sm ml-8 color-palette-2 fw-light"
                            >${element.city}, ${element.country}</span
                          >
                        </div>
                        <div class="d-flex flex-row mt-10">
                          <div class="rating fw-semibold text-xs">4.6</div>
                          <div class="ml-8 text-sm fw-medium color-palette-1">(520)</div>
                        </div>
                      </div>
                      <div class="align-self-end">
                        <div class="d-flex flex-row">
                          ` +
                      setStar(element.star) +
                      `
                        </div>
                        <div class="d-flex flex-column text-right mt-6">
                          <div class="fw-medium text-xl color-palette-3">
                            <span class="text-md">IDR</span> ${element.price}
                          </div>
                          <div class="text-xs color-palette-2 fw-medium mt-6">
                            Per night
                          </div>
                        </div>
                      </div>
                    </a>
                  </div>
                  `
                  ).appendTo('#hotelList');
                });
                $(`<div class="d-flex flex-row mt-30">
                <ul class="pagination ms-auto">
                  <li class="page-item">
                    <a href="#" class="page-link">
                      <img
                        src="./assets/images/arrow-left-gray.svg"
                        alt="arrow left"
                      />
                    </a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link">1</a>
                  </li>
                  <li class="page-item">
                    <a href="#" class="page-link active">2</a>
                  </li>
                  <li class="page-item"><a href="#" class="page-link">3</a></li>
                  <li class="page-item"><a href="#" class="page-link">...</a></li>
                  <li class="page-item">
                    <a href="#" class="page-link">
                      <img
                        src="./assets/images/arrow-right.svg"
                        alt="arrow left"
                      />
                    </a>
                  </li>
                </ul>
              </div>`).appendTo('#pagination');
              });
            }
          } catch (err) {
            console.log(err);
          }
        }
        getHotel();
        document.querySelector('.btn-search').addEventListener('click', () => {
          let kotaTujuan = document.querySelector('#kotaTujuan').value;
          let checkIn = $('#datepicker').datepicker('getDate');
          let checkOut = new Date($('#datepicker').datepicker('getDate'));
          let duration = $('#durasi option:selected').val();
          let adult = $('#adult').val();
          let children = $('#children').val();
          let room = $('#room').val();

          checkOut.setDate(
            checkOut.getDate() + parseInt($('#durasi option:selected').val())
          );
          if (kotaTujuan === '') {
            toastr.error('Kota Tujuan belum diisi');
          }
          if (
            kotaTujuan !== '' &&
            checkIn !== '' &&
            checkOut !== '' &&
            duration !== '' &&
            adult !== '' &&
            children !== '' &&
            room !== ''
          ) {
            let message = {
              kotaTujuan: kotaTujuan,
              checkIn: checkIn,
              checkOut: checkOut,
              duration: duration,
              adult: adult,
              children: children,
              room: room,
            };
            localStorage.setItem('search', JSON.stringify(message));
            window.location = `search?${'kotaTujuan=' + kotaTujuan}&${
              'guest=' + adult
            }`;
          }
        });

        function getCookie(cname) {
          let name = cname + '=';
          let ca = document.cookie.split(';');
          for (let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') {
              c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
              return c.substring(name.length, c.length);
            }
          }
          return '';
        }
        let jwt = getCookie('jwt');
        function parseJwt(token) {
          var base64Url = token.split('.')[1];
          var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
          var jsonPayload = decodeURIComponent(
            atob(base64)
              .split('')
              .map(function (c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
              })
              .join('')
          );

          return JSON.parse(jsonPayload);
        }
        if (jwt) {
          let data = parseJwt(jwt).data;
          document.querySelector(
            '#nav-right'
          ).innerHTML = `<div class="d-flex flex-row align-items-center">
            <img
              src="./assets/images/default-avatar.svg"
              width="40"
              height="40"
              class="rounded-circle"
              alt=""
            />
            <div class="fullName fw-medium text-md ml-10">${data.fullName}</div>
          </div>`;
        } else {
          document.querySelector('#nav-right').innerHTML = `<a
                class="btn btn-sign-in pb-10 pt-10 pl-32 pr-32 color-palette-1 fw-medium text-lg"
                href="./auth/sign-in.html"
                >Sign In</a
              >
              <a
                class="btn btn-sign-up pb-10 pt-10 pl-32 pr-32 color-palette-1 fw-semibold text-lg text-white"
                href="./auth/sign-up.html"
                >Sign Up</a
              >`;
        }
        $('#durasi').change(function () {
          const checkOut = new Date($('#datepicker').datepicker('getDate'));
          console.log($('#datepicker').datepicker('getDate'));
          checkOut.setDate(
            checkOut.getDate() + parseInt($('#durasi option:selected').val())
          );
          const yearCheckOut = new Intl.DateTimeFormat('en', {
            year: 'numeric',
          }).format(checkOut);
          const monthCheckOut = new Intl.DateTimeFormat('en', {
            month: 'short',
          }).format(checkOut);
          const dayCheckOut = new Intl.DateTimeFormat('en', {
            day: '2-digit',
          }).format(checkOut);
          const shortDayCheckOut = new Intl.DateTimeFormat('en', {
            weekday: 'short',
          }).format(checkOut);
          $('#checkOutValue').html(
            `${shortDayCheckOut}, ${dayCheckOut} ${monthCheckOut} ${yearCheckIn}`
          );
        });
        $('#datepicker').datepicker({
          dateFormat: 'D, dd M yy',
          duration: 'fast',
          onSelect: function () {
            const checkOut = new Date($(this).datepicker('getDate'));

            checkOut.setDate(
              checkOut.getDate() + parseInt($('#durasi option:selected').val())
            );
            const yearCheckOut = new Intl.DateTimeFormat('en', {
              year: 'numeric',
            }).format(checkOut);
            const monthCheckOut = new Intl.DateTimeFormat('en', {
              month: 'short',
            }).format(checkOut);
            const dayCheckOut = new Intl.DateTimeFormat('en', {
              day: '2-digit',
            }).format(checkOut);
            const shortDayCheckOut = new Intl.DateTimeFormat('en', {
              weekday: 'short',
            }).format(checkOut);
            $('#checkOutValue').html(
              `${shortDayCheckOut}, ${dayCheckOut} ${monthCheckOut} ${yearCheckIn}`
            );
          },
        });
        $('#tamuDanKamar').click(function () {
          //   alert('s');
          if ($('.select-box').attr('data-selected') == 'false') {
            $('.select-box').attr('data-selected', 'true');
            $('.select-box').css('display', 'flex');
          } else if ($('.select-box').attr('data-selected') == 'true') {
            $('.select-box').attr('data-selected', 'false');
            $('.select-box').css('display', 'none');
          }
        });
        $('');
      });
      function minus(value) {
        value -= 1;
        return value;
      }
      function plus(value) {
        value += 1;
        return value;
      }
      function changeIconMinus(type, isDisable) {
        if (isDisable) {
          $(`.minus[aria-type="${type}"]`).html(
            '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-id="IcSymbolAddMinus"><path d="M5 12H19" stroke="#CDD0D1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'
          );
        } else {
          $(`.minus[aria-type="${type}"]`).html(
            '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-id="IcSymbolAddMinus"><path d="M5 12H19" stroke="#0194f3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'
          );
        }
      }
      function changeIconPlus(type, isDisable) {
        if (isDisable) {
          $(`.plus[aria-type="${type}"]`).html(
            '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-id="IcSymbolAddPlus"><path d="M12 5V19M5 12H19" stroke="#CDD0D1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'
          );
        } else {
          $(`.plus[aria-type="${type}"]`).html(
            '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-id="IcSymbolAddPlus"><path d="M12 5V19M5 12H19" stroke="#0194f3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>'
          );
        }
      }

      $('.minus[aria-type="dewasa"]').click(function () {
        let value = $('.dewasa').html();
        if (value == 1) {
          changeIconMinus($(this).attr('aria-type'), true);
        } else {
          if (value == 30) {
            changeIconPlus($(this).attr('aria-type'), false);
          }
          $('input[name="adult"]').val(minus(parseInt(value)));
          $('.dewasa').html(minus(parseInt(value)));
          if (minus(parseInt(value)) == 1) {
            changeIconMinus($(this).attr('aria-type'), true);
          }
        }
      });
      $('.plus[aria-type="dewasa"]').click(function () {
        let value = $('.dewasa').html();
        if (value == 30) {
          changeIconPlus($(this).attr('aria-type'), true);
        } else if (value == 1) {
          $('input[name="adult"]').val(plus(parseInt(value)));
          $('.dewasa').html(plus(parseInt(value)));
          changeIconMinus($(this).attr('aria-type'), false);
        } else {
          $('input[name="adult"]').val(plus(parseInt(value)));
          $('.dewasa').html(plus(parseInt(value)));
          if (plus(parseInt(value)) == 30) {
            changeIconPlus($(this).attr('aria-type'), true);
          }
        }
      });
      $('.minus[aria-type="anak"]').click(function () {
        let value = $('.anak').html();
        if (value == 0) {
          changeIconMinus($(this).attr('aria-type'), true);
        } else {
          if (value == 6) {
            changeIconPlus($(this).attr('aria-type'), false);
          }
          $('input[name="children"]').val(minus(parseInt(value)));
          $('.anak').html(minus(parseInt(value)));
          if (minus(parseInt(value)) == 0) {
            changeIconMinus($(this).attr('aria-type'), true);
          }
        }
      });
      $('.plus[aria-type="anak"]').click(function () {
        let value = $('.anak').html();
        if (value == 6) {
          changeIconPlus($(this).attr('aria-type'), true);
        } else if (value == 0) {
          $('input[name="children"]').val(plus(parseInt(value)));
          $('.anak').html(plus(parseInt(value)));
          changeIconMinus($(this).attr('aria-type'), false);
        } else {
          $('input[name="children"]').val(plus(parseInt(value)));
          $('.anak').html(plus(parseInt(value)));
          if (plus(parseInt(value)) == 6) {
            changeIconPlus($(this).attr('aria-type'), true);
          }
        }
      });
      $('.minus[aria-type="kamar"]').click(function () {
        let value = $('.kamar').html();
        if (value == 1) {
          changeIconMinus($(this).attr('aria-type'), true);
        } else {
          if (value == 6) {
            changeIconPlus($(this).attr('aria-type'), false);
          }
          $('input[name="room"]').val(minus(parseInt(value)));
          $('.kamar').html(minus(parseInt(value)));
          if (minus(parseInt(value)) == 1) {
            changeIconMinus($(this).attr('aria-type'), true);
          }
        }
      });
      $('.plus[aria-type="kamar"]').click(function () {
        let value = $('.kamar').html();
        if (value == 6) {
          changeIconPlus($(this).attr('aria-type'), true);
        } else if (value == 1) {
          $('input[name="room"]').val(plus(parseInt(value)));
          $('.kamar').html(plus(parseInt(value)));
          changeIconMinus($(this).attr('aria-type'), false);
        } else {
          $('input[name="room"]').val(plus(parseInt(value)));
          $('.kamar').html(plus(parseInt(value)));
          if (plus(parseInt(value)) == 6) {
            changeIconPlus($(this).attr('aria-type'), true);
          }
        }
      });
      document.addEventListener('mouseup', function (e) {
        var container = document.querySelector('.tamuDanKamar');
        if (!container.contains(e.target)) {
          $('.select-box').attr('data-selected', 'false');
          $('.select-box').css('display', 'none');
        }
      });

      var slider3 = new rSlider({
        target: '#slider3',
        values: { min: 0, max: 16000000 },
        step: 50000,
        range: true,
        set: [10, 16000000],
        scale: true,
        labels: false,
        onChange: function (vals) {
          let item = vals.split(',');
          let internationalNumberFormat = new Intl.NumberFormat('en-US');
          item[0] = internationalNumberFormat.format(item[0]);
          item[1] = internationalNumberFormat.format(item[1]);
          $('#rangeTerendah').val(item[0]);
          $('#rangeTertinggi').val(item[1]);
        },
      });

      $('#rangeTerendah').change(function () {
        let terendah = parseFloat($(this).val().replace(/,/g, ''));
        let tertinggi = parseFloat(
          $('#rangeTertinggi').val().replace(/,/g, '')
        );
        slider3.setValues(terendah, tertinggi);
      });
      $('#rangeTertinggi').change(function () {
        let terendah = parseFloat($('#rangeTerendah').val().replace(/,/g, ''));
        let tertinggi = parseFloat($(this).val().replace(/,/g, ''));
        slider3.setValues(terendah, tertinggi);
      });
    </script>
  </body>
</html>
